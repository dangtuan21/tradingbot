//@version=5
strategy("Simple MA Crossover Bot (Signal Exits, SMA100 Filter)", overlay=true, default_qty_type=strategy.percent_of_equity, default_qty_value=100)

// Inputs
fastLength = input.int(9, "Fast MA Length", minval=1)
slowLength = input.int(21, "Slow MA Length", minval=1)
sma100Length = input.int(100, "SMA 100 Length", minval=1)

// Calculate MAs
fastMA = ta.sma(close, fastLength)
slowMA = ta.sma(close, slowLength)
// Calculate SMA100
sma100 = ta.sma(close, sma100Length)

// Plot MAs
plot(fastMA, color=color.blue, title="Fast MA")
plot(slowMA, color=color.red, title="Slow MA")

// Strategy logic
if ta.crossover(fastMA, slowMA) and close > sma100
    strategy.entry("Buy", strategy.long)


if ta.crossunder(fastMA, slowMA) and close < sma100
    strategy.entry("Sell", strategy.short)

// Show signals
plotshape(ta.crossover(fastMA, slowMA) and close > sma100, style=shape.labelup, location=location.belowbar, color=color.green, text="Buy Signal")
plotshape(ta.crossunder(fastMA, slowMA) and close < sma100, style=shape.labeldown, location=location.abovebar, color=color.red, text="Sell Signal")
