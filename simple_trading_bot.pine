//@version=5
strategy("Simple MA Crossover Bot", overlay=true, default_qty_type=strategy.percent_of_equity, default_qty_value=100)

// Inputs
fastLength = input.int(9, "Fast MA Length", minval=1)
slowLength = input.int(21, "Slow MA Length", minval=1)
stopLossPct = input.float(2.0, "Stop Loss %", minval=0.1, step=0.1)
takeProfitPct = input.float(5.0, "Take Profit %", minval=0.1, step=0.1)

// Calculate MAs
fastMA = ta.sma(close, fastLength)
slowMA = ta.sma(close, slowLength)

// Plot MAs
plot(fastMA, color=color.blue, title="Fast MA")
plot(slowMA, color=color.red, title="Slow MA")

// Strategy logic
if ta.crossover(fastMA, slowMA)
    strategy.entry("Buy", strategy.long)

if ta.crossunder(fastMA, slowMA)
    strategy.entry("Sell", strategy.short)

// Exit conditions
strategy.exit("Exit Long", "Buy", stop=strategy.position_avg_price * (1 - stopLossPct/100), limit=strategy.position_avg_price * (1 + takeProfitPct/100))
strategy.exit("Exit Short", "Sell", stop=strategy.position_avg_price * (1 + stopLossPct/100), limit=strategy.position_avg_price * (1 - takeProfitPct/100))
